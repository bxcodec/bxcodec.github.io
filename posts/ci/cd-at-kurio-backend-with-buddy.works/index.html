<!DOCTYPE html>
<html lang="en-us"><head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="generator" content="Hugo 0.81.0-DEV" />
	

	<title>
		 
		CI/CD at Kurio Backend with Buddy.Works-Letters From Iman
		

	</title>

	<meta property="og:title" content="CI/CD at Kurio Backend with Buddy.Works - Letters From Iman"/> 
	<meta property="og:description" content="Just Automate It!" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="https://bxcodec.io/posts/ci/cd-at-kurio-backend-with-buddy.works/" />
	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
	 crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">
	<link href="/css/medium.css" rel="stylesheet">
	<link href="/css/additional.css" rel="stylesheet">
	<link rel="icon" href="https://bxcodec.io/favicon.ico">
	<link rel="apple-touch-icon" href="https://bxcodec.io/apple-touch-icon.png"/>
	
	<meta property="og:image" content="https://cdn-images-1.medium.com/max/1600/1*i384H_6SMsFYMMH4aPrZfw.jpeg"/>
	<meta property="og:image:secure_url" content="https://cdn-images-1.medium.com/max/1600/1*i384H_6SMsFYMMH4aPrZfw.jpeg"/>
	<meta name="twitter:card" content="summary_large_image" />
		
	<meta name="twitter:site" content="@bxcodec.io" />
	
	<meta name="twitter:creator" content="@bxcodec" />
	
	
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">
    <div class="container pr-0">
        
        <a class="navbar-brand" href="https://bxcodec.io">

            
            <span style="font-family:Righteous;">Letters From Iman</span>
            
        </a>
        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        
        <div class="collapse navbar-collapse" id="navbarMediumish">
            
            <ul class="navbar-nav ml-auto">
                 
                <li class="nav-item ">
                    <a class="nav-link" href="https://resume.bxcodec.io">Resume</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/posts">Blog</a>
                </li>
                 
                <li class="nav-item ">
                    <a class="nav-link" href="/">About Me</a>
                </li>
                
            </ul>
        </div>
        
    </div>
</nav>


        <div class="site-content">   
            <div class="container">
<div class="mainheading">
    
</div><div class="main-content">
        
        <div class="container">
            <div class="row">
                
                <div class="col-md-2 pl-0"><div class="share">
    <p>Share</p>
    <ul>
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://twitter.com/intent/tweet?text=CI%2fCD%20at%20Kurio%20Backend%20with%20Buddy.Works&url=https%3a%2f%2fbxcodec.io%2fposts%2fci%2fcd-at-kurio-backend-with-buddy.works%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=435');return false;">
        <i class="fab fa-twitter"></i>
        </a>
        </li>
        
        <li class="ml-1 mr-1">
        <a target="_blank" href="https://facebook.com/sharer.php?u=https%3a%2f%2fbxcodec.io%2fposts%2fci%2fcd-at-kurio-backend-with-buddy.works%2f" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
        <i class="fab fa-facebook-f"></i>
        </a>
        </li>

        <li class="ml-1 mr-1">
        <a target="_blank" href="https://www.xing.com/spi/shares/new?url=https%3a%2f%2fbxcodec.io%2fposts%2fci%2fcd-at-kurio-backend-with-buddy.works%2f" onclick="window.open(this.href, 'xing-share', 'width=550,height=435');return false;">
        <i class="fab fa-xing"></i>
        </a>
        </li>        
    </ul>

    
        <div class="sep">
        </div>				
        <ul>
            <li> 
            <a  class="small smoothscroll" href="#disqus_thread"></a>
            </li>
        </ul>
    
</div></div>
                                
                <div class="col-md-9 flex-first flex-md-unordered">
                    <div class="mainheading">
                                                                	
                        
                        
                        
                        <div class="post-top-meta">
                            <div>
                                <img class="author-thumb" src="http://gravatar.com/avatar/01e3584fe39eb72335f13243c3a814a2?s=200" alt="Iman Tumorang">
                            </div>
                            <div >
                                <a  href="https://bxcodec.io" class="link-dark">Iman Tumorang</a><br>
                                <span class="author-description">
                                    Software Engineer - Writer - Open Source Enthusiast - Startup Enthusiast<br>
                                    <i class="far fa-star"></i>
                                    Dec 6, 2018
                                    <i class="far fa-clock clock"></i>
                                    6 min read
                                </span>					
                            </div>
                        </div>			
                        	
                        
                                                     
                        
                        <h1 class="posttitle">CI/CD at Kurio Backend with Buddy.Works</h1> 
                        
                            <h2 class="subtitle">Just Automate It!</h2> 
                        
                        
                    </div>

                    
                    
                    
                    <style>
                        figure {
                            width: 95%;
                            text-align: center !important;
                            font-style: italic !important;
                            font-size: smaller !important;
                            text-indent: 0 !important;
                            margin: auto;
                            padding: 0.5em;
                            color: #aaaaaa;
                        }
                        figure a{
                            color: #aaaaaa;
                            text-decoration: #aaaaaa;
                        }
                        figure  .featured-image{
                            margin-bottom: 0.5rem;
                        }
                        figure img{
                            margin: auto;
                        }
                        img.scaled {
                            width: 70%;
                        }
                    </style>

                    <figure>
                        <img class="featured-image img-fluid" src="https://cdn-images-1.medium.com/max/1600/1*i384H_6SMsFYMMH4aPrZfw.jpeg" alt="Robot Automation from Unsplash">
                        <figcaption>Robot Automation from Unsplash</figcaption>
                    </figure>
                    <br>
                    
                    
                    
                    
                    <div class="article-post">
                        <p>On my first time joining <a href="https://kurio.co.id">Kurio Engineering team</a>, a year ago before I wrote this story, we already used CI/CD flow in every teams (mobile team, backend team, and data science team).</p>
<p>Back then, I still don&rsquo;t understand yet what&rsquo;s the meaning CI/CD. All I learned about that topic, I got that here from Kurio. CI/CD stands for Continuous Integration and Continuous Delivery. It is a tool to ease and make our development process faster.</p>
<p>For example, imagine we&rsquo;re developing an application, let&rsquo;s say a simple Todo Application, written in Golang. To deploy this to the server, we will make a few steps like below:</p>
<ul>
<li>Finish all the feature and function</li>
<li>Test all the function using unit test manually in local</li>
<li>Build the binary</li>
<li>Upload the binary to the server, could be using FTP, or using Git Clone</li>
<li>SSH and Configure the environment in the server</li>
<li>Run the application in the server</li>
</ul>
<p>Doing this, over and over again, every time we&rsquo;re developing a feature is really painful. To do all of this, could take so many times until it lives in the server.</p>
<blockquote>
<p>&ldquo;Anything that you do more than twice has to be automated&rdquo; ~ Adam Stone, CEO, D-Tools</p>
</blockquote>
<p>So that&rsquo;s how CI/CD solves this problem, we can automate it, so we don&rsquo;t need to do all the dirty things like SSH to the server to start the application, uploading the file to the server.</p>
<p>Nowadays, there are so many CI/CD tools that we can use according to our needs. Jenkins, CircleCI, Travis-CI, BuddyWorks, etc. Everything has advantages and disadvantages. If you need a free cost, Jenkins may be suite for you, but you need an extra effort to set up the server. And another thing is only about pricing and feature, just look for them and use wisely to your needs.</p>
<h2 id="kurio-backend-cicdflow">Kurio Backend CI/CD Flow</h2>
<p>In Kurio, we have 3 CI/CD tools to help us, they are Travis-CI, BuddyWorks, and Jenkins. Travis-CI and BuddyWorks is a SaaS system, so we must spend a bunch of money to use it, but it offers simplicity, so I think it&rsquo;s a win-win solution. Recently most of our projects here use BuddyWorks as our CI/CD system.</p>
<p>Our first CI/CD tool is Travis-CI and it was good. It really helpful for us. It&rsquo;s easy to integrate with our projects, the documentation is very clear. Besides, Travis is really a famous CI/CD tools on open source world, so it&rsquo;s easy to find the community to ask about the setup. But for some cases, it&rsquo;s not suited to our problem that I will explain later.</p>
<p>Anyway, I would tell our CI/CD flow from writing the code until deployment and live into production, the flow can be seen in this picture below.</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*SSVEjzazsfemcTD7POHibg.png" alt="Kurio Backend CI/CD Flow">
<em>Kurio Backend CI/CD Flow</em></p>
<p>Start from writing the code, every engineer who works on some tasks, will push and make a Pull Request (PR) in Github. Thanks to the Github&rsquo;s webhook, we can listen to every event that happens in the Github server. So with this events, we can use it as the CI/CD trigger.</p>
<p>After the PR approved and merged to master, our CI/CD system will automatically deploy it to staging. When it&rsquo;s deployed in staging server, now it will be tested manually. Some tests like load-testing or just black box-testing will be done here.</p>
<p>When it already passes the requirements then we release it to production. Again with just using the release tag in Github, it will automatically be deployed to production.</p>
<h2 id="cicd-with-buddyworks">CI/CD With BuddyWorks.</h2>
<p>Our testing flow is really simple. We use the CI/CD tools only for testing and building, and also deployment purposes. And for some testing that needs to interact with a real application, usually, we will spawn a live docker container directly in the CI/CD systems, then runs our testing scenario. Or I might say, an integration testing with a real service. For example, if a project depends on MySQL service, we will spawn a docker container of MySQL, then run it with the test directly against it. So in our CI/CD system, there will be a live MySQL service running from a docker container.</p>
<p>Previously, we use Travis-CI as our CI/CD tool. But on some reasons, a few months ago, there was a project that takes up to 20 minutes when running in the Travis for build and testing. This project depends on many services like MongoDB, Redis, MySQL, aerospike, google-cloud-pubsub, etc. When we run the test in Travis, we spawn a container based on the application we need (mongo, redis, etc). So if we look into our .travis.yaml, in before_install phase there will be many commands like this below:</p>
<pre><code>before_install:  
 - docker pull mysql:5.7  
 - docker pull aerospike:3.15.1.4
 - other commands ... 
</code></pre><p>All this process takes up to 20 minutes until it finished and deployed to the target server. And it reduces our productivity. If it needs up to 20 minutes to deploy, then it better to deploy manually with using git clone then build :D.</p>
<p>So later, after finding many CI/CD tools, we found BuddyWorks. It is CI/CD with container based.
With BuddyWorks, we will run the test in a docker container that they spawn for every pipeline test. We can choose the base image of our environment and set it up based on our needs. Also, we can choose any available service that we need to integrate with our test, like redis, mysql, etc.</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*wr0jN7khlxA4s799jLaagg.gif" alt="demo to choose services for integration test">
<em>demo to choose services for integration test</em></p>
<p>Besides that, in BuddyWorks we can also custom our docker-base image as our test environment easily. So for some services that not available yet in the default services, we can add it with making a custom docker image.</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*RoE0rVW1iRFK9BqmWbYDZw.gif" alt="demo how to use custom image container for testing in BuddyWorks">
<em>demo how to use custom image container for testing in BuddyWorks</em></p>
<p>As for our case in Kurio, we create a custom docker name base on our needs. In the video above, we create a docker image named: falkland in docker hub. Inside the falkland image, there are installed applications like Aerospike, google-cloud-pubsub-emulator, and also Golang with the latest version - we use Golang for this projects.</p>
<h2 id="conclusions">Conclusions</h2>
<p>Well, there are so many CI/CD system that we can find on the Internet. But most of them are paid services obviously like TravisCI, CircleCI, Buddy.Works. But, if you want a free CI/CD, Jenkins may be the best fit for your case. Except, if you are willing to spend some money for CI/CD tools, maybe you can take a look for Buddy.Works</p>
<p>And so far BuddyWorks already satisfied a lot of our needs. It only needs 5 minutes to finish all the deployment, start from testing, and building, until deploying the application to the server.</p>
<!-- raw HTML omitted -->
<p>_Originally posted at: <a href="https://toolbox.kurio.co.id/ci-cd-at-kurio-backend-with-buddyworks-60a485e54e6b_">https://toolbox.kurio.co.id/ci-cd-at-kurio-backend-with-buddyworks-60a485e54e6b_</a></p>

                    </div>

                    


<script async>(function(s,u,m,o,j,v){j=u.createElement(m);v=u.getElementsByTagName(m)[0];j.async=1;j.src=o;j.dataset.sumoSiteId='3c48b29186f074f0729b7ddc32baae92a31ef4cd34b4ba8a6d728b3b0b0c021b';v.parentNode.insertBefore(j,v)})(window,document,'script','//load.sumo.com/');</script>


 
                    <div class="after-post-tags">
                        <ul class="tags">
                        
                        <li>
                        <a href="/tags/life">life</a>
                        </li>
                        
                        <li>
                        <a href="/tags/ci/cd">ci/cd</a>
                        </li>
                        
                        <li>
                        <a href="/tags/deployment">deployment</a>
                        </li>
                        
                        <li>
                        <a href="/tags/programming">programming</a>
                        </li>
                        
                        </ul>
                    </div>
                    
                    
                    
                    <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
                    
                        <a class="prev d-block col-md-6" href="/posts/today-i-learned-making-a-simple-interactive-shell-application-in-golang/"> &laquo; Today I Learned: Making a Simple Interactive Shell Application in Golang</a>
                    
                    
                        <a class="next d-block col-md-6 text-lg-right" href="/posts/about-theme/">About Theme &raquo;</a>
                    
                    <div class="clearfix"></div>
                    </div>
                    
                </div>
                
            </div>
        </div>
        
        <br/> 
        
<div class="container">
    <div id="comments" class="row justify-content-center mb-5">
        <div class="col-md-8">           
            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "iman-tumorang" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>               
        </div>
    </div>
</div>


 
    </div>

            </div>
    
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                &copy; Copyright Iman Tumorang @bxcodec.io - All rights reserved
            </div>
            <div class="col-md-6 col-sm-6 text-center text-lg-right">    
                <a target="_blank" href="https://www.wowthemes.net">Mediumish Theme</a> by WowThemes.net
            </div>
        </div>
    </div>
</footer>

        </div>

    
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>    
    
<script src="/js/mediumish.js"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-106812096-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    </body>
</html>
